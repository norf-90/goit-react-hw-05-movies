"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{1134:function(e,n,t){t.r(n);var r=t(9439),c=t(8683),i=t(2791),a=t(799),u=t(184),o=(0,i.lazy)((function(){return t.e(115).then(t.bind(t,4115))})),l=(0,i.lazy)((function(){return t.e(635).then(t.bind(t,7635)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.SearchForm})}))})),s=(0,i.lazy)((function(){return t.e(635).then(t.bind(t,7635)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.SubmitButton})}))})),f=(0,i.lazy)((function(){return t.e(635).then(t.bind(t,7635)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.SearchInput})}))}));n.default=function(){var e=(0,i.useState)(null),n=(0,r.Z)(e,2),t=n[0],c=n[1],p=(0,i.useState)("idle"),d=(0,r.Z)(p,2),g=d[0],h=d[1],b=(0,i.useState)(""),m=(0,r.Z)(b,2),y=m[0],v=m[1],j=(0,i.useState)(""),w=(0,r.Z)(j,2),O=w[0],Z=w[1];return(0,i.useEffect)((function(){if(O.trim()){var e=new AbortController;return h("pending"),(0,a.HI)(O,e,(function(n){return e=n})).then((function(e){var n=e.data;c(n.results),h("resolved")})).catch((function(){return h("rejected")})),function(){e.abort()}}}),[O]),(0,u.jsxs)("main",{children:[(0,u.jsxs)(l,{id:"query",onSubmit:function(e){e.preventDefault(),Z(y),v("")},children:[(0,u.jsx)(f,{type:"text",value:y,name:"searchValue",placeholder:"input film name",required:!0,onChange:function(){var e=document.getElementById("query");v(e.elements.searchValue.value)},autoComplete:"off"}),(0,u.jsx)(s,{type:"submit",children:"Search"})]}),"pending"===g&&(0,u.jsx)("p",{children:"Loading..."}),"resolved"===g&&(0,u.jsx)(i.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading FilmList ..."}),children:(0,u.jsx)(o,{films:t})}),"rejected"===g&&(0,u.jsx)("p",{children:"Something went wrong"})]})}},799:function(e,n,t){t.d(n,{Aj:function(){return l},HI:function(){return g},IQ:function(){return p},JZ:function(){return f},Jh:function(){return d},TP:function(){return s}});var r=t(5861),c=t(7757),i=t.n(c),a=t(1243),u="63240915768e2fa639cf91287e69284e",o="https://api.themoviedb.org/3/",l=function(e){return a.Z.get("".concat(o,"trending/movie/week?api_key=").concat(u),{signal:e.signal})},s=function(e,n){return a.Z.get("".concat(o,"movie/").concat(e,"?api_key=").concat(u),{signal:n.signal})},f=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat(o,"genre/movie/list?api_key=").concat(u));case 2:return n=e.sent,localStorage.setItem("genres",JSON.stringify(n.data.genres)),e.abrupt("return",n.data.genres);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,n){return a.Z.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(u),{signal:n.signal})},d=function(e,n){return a.Z.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(u),{signal:n.signal})},g=function(e,n,t){n&&n.abort();var r=new AbortController;return t(r),a.Z.get("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(e,"&page=1&include_adult=false"),{signal:r.signal})}},8683:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,{Z:function(){return i}})}}]);
//# sourceMappingURL=134.a4f69d00.chunk.js.map