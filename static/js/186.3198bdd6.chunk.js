"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[186],{186:function(e,t,n){n.r(t);var r=n(9439),c=n(8683),i=n(2791),a=n(7689),o=n(799),u=n(184),s=(0,i.lazy)((function(){return n.e(375).then(n.bind(n,6375)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.List})}))})),l=(0,i.lazy)((function(){return n.e(375).then(n.bind(n,6375)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.Rewiev})}))})),f=(0,i.lazy)((function(){return n.e(375).then(n.bind(n,6375)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.Header})}))})),d=(0,i.lazy)((function(){return n.e(375).then(n.bind(n,6375)).then((function(e){return(0,c.Z)((0,c.Z)({},e),{},{default:e.Text})}))}));t.default=function(){var e=(0,i.useState)(null),t=(0,r.Z)(e,2),n=t[0],c=t[1],p=(0,i.useState)("idle"),h=(0,r.Z)(p,2),g=h[0],b=h[1],v=(0,a.UO)().movieId;return(0,i.useEffect)((function(){b("pending");var e=new AbortController;return(0,o.Jh)(v,e).then((function(e){var t=e.data.results;if(c(t),!t.length)throw new Error;b("resolved")})).catch((function(){return b("rejected")})),function(){e.abort()}}),[v]),(0,u.jsxs)(u.Fragment,{children:["pending"===g&&(0,u.jsx)("p",{children:"Loading..."}),"rejected"===g&&(0,u.jsx)("p",{children:"Nothing to show"}),"resolved"===g&&n.length&&(0,u.jsx)(s,{children:n.map((function(e){var t=e.id,n=e.content,r=e.author,c=e.author_details.avatar_path;return(0,u.jsxs)(l,{children:[(0,u.jsxs)(f,{children:[c&&(0,u.jsx)("img",{src:c.includes("http")?c.slice(1):"https://image.tmdb.org/t/p/w500".concat(c),alt:"".concat(r," avatar"),width:"50"}),(0,u.jsx)("p",{children:r})]}),(0,u.jsx)(d,{children:n})]},t)}))})]})}},799:function(e,t,n){n.d(t,{Aj:function(){return s},HI:function(){return h},IQ:function(){return d},JZ:function(){return f},Jh:function(){return p},TP:function(){return l}});var r=n(5861),c=n(7757),i=n.n(c),a=n(1243),o="63240915768e2fa639cf91287e69284e",u="https://api.themoviedb.org/3/",s=function(e){return a.Z.get("".concat(u,"trending/movie/week?api_key=").concat(o),{signal:e.signal})},l=function(e,t){return a.Z.get("".concat(u,"movie/").concat(e,"?api_key=").concat(o),{signal:t.signal})},f=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat(u,"genre/movie/list?api_key=").concat(o));case 2:return t=e.sent,localStorage.setItem("genres",JSON.stringify(t.data.genres)),e.abrupt("return",t.data.genres);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e,t){return a.Z.get("".concat(u,"movie/").concat(e,"/credits?api_key=").concat(o),{signal:t.signal})},p=function(e,t){return a.Z.get("".concat(u,"movie/").concat(e,"/reviews?api_key=").concat(o),{signal:t.signal})},h=function(e,t,n){t&&t.abort();var r=new AbortController;return n(r),a.Z.get("".concat(u,"search/movie?api_key=").concat(o,"&query=").concat(e,"&page=1&include_adult=false"),{signal:r.signal})}},8683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=186.3198bdd6.chunk.js.map