{"version":3,"file":"static/js/186.3198bdd6.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.jsx","utils/getFunctions.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getReviews } from 'utils/getFunctions';\nimport { lazy } from 'react';\nconst List = lazy(() =>\n  import('./Reviews.styled').then(module => ({\n    ...module,\n    default: module.List,\n  }))\n);\nconst Rewiev = lazy(() =>\n  import('./Reviews.styled').then(module => ({\n    ...module,\n    default: module.Rewiev,\n  }))\n);\nconst Header = lazy(() =>\n  import('./Reviews.styled').then(module => ({\n    ...module,\n    default: module.Header,\n  }))\n);\nconst Text = lazy(() =>\n  import('./Reviews.styled').then(module => ({\n    ...module,\n    default: module.Text,\n  }))\n);\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setStatus('pending');\n    const abortController = new AbortController();\n    getReviews(movieId, abortController)\n      .then(({ data: { results } }) => {\n        setReviews(results);\n        if (!results.length) throw new Error();\n        setStatus('resolved');\n      })\n      .catch(() => setStatus('rejected'));\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      {status === 'pending' && <p>Loading...</p>}\n      {status === 'rejected' && <p>Nothing to show</p>}\n      {status === 'resolved' && reviews.length && (\n        <List>\n          {reviews.map(\n            ({ id, content, author, author_details: { avatar_path } }) => {\n              return (\n                <Rewiev key={id}>\n                  <Header>\n                    {avatar_path && (\n                      <img\n                        src={\n                          avatar_path.includes('http')\n                            ? avatar_path.slice(1)\n                            : `https://image.tmdb.org/t/p/w500${avatar_path}`\n                        }\n                        alt={`${author} avatar`}\n                        width=\"50\"\n                      />\n                    )}\n                    <p>{author}</p>\n                  </Header>\n                  <Text>{content}</Text>\n                </Rewiev>\n              );\n            }\n          )}\n        </List>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nconst KEY = '63240915768e2fa639cf91287e69284e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst getTrends = abortController =>\n  axios.get(`${BASE_URL}trending/movie/week?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getMovieDetails = (movieId, abortController) =>\n  axios.get(`${BASE_URL}movie/${movieId}?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getGenres = async () => {\n  const responce = await axios.get(\n    `${BASE_URL}genre/movie/list?api_key=${KEY}`\n  );\n  localStorage.setItem('genres', JSON.stringify(responce.data.genres));\n  return responce.data.genres;\n};\n\nconst getCast = (id, abortController) =>\n  axios.get(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getReviews = (id, abortController) =>\n  axios.get(`${BASE_URL}movie/${id}/reviews?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getMovie = (searchName, abortController, updateAbortController) => {\n  if (abortController) {\n    abortController.abort();\n  }\n\n  const newAborController = new AbortController();\n  updateAbortController(newAborController);\n\n  return axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${searchName}&page=1&include_adult=false`,\n    {\n      signal: newAborController.signal,\n    }\n  );\n};\n\nexport { getTrends, getMovieDetails, getGenres, getCast, getReviews, getMovie };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["List","lazy","then","module","default","Rewiev","Header","Text","useState","reviews","setReviews","status","setStatus","movieId","useParams","useEffect","abortController","AbortController","getReviews","results","data","length","Error","catch","abort","map","id","content","author","avatar_path","author_details","src","includes","slice","alt","width","KEY","BASE_URL","getTrends","axios","signal","getMovieDetails","getGenres","responce","localStorage","setItem","JSON","stringify","genres","getCast","getMovie","searchName","updateAbortController","newAborController","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}