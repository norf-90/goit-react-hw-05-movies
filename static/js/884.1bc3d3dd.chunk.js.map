{"version":3,"file":"static/js/884.1bc3d3dd.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx","utils/getFunctions.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// import FilmMainInfo from 'components/FilmMainInfo/FIlmMainInfo';\nimport { useEffect, useState } from 'react';\nimport { Outlet, useParams } from 'react-router-dom';\nimport { getMovieDetails } from 'utils/getFunctions';\nimport { lazy, Suspense } from 'react';\nconst FilmMainInfo = lazy(() => import('components/FilmMainInfo/FIlmMainInfo'));\nconst StyledLink = lazy(() =>\n  import('./MovieDetails.styled').then(module => ({\n    ...module,\n    default: module.StyledLink,\n  }))\n);\nconst List = lazy(() =>\n  import('./MovieDetails.styled').then(module => ({\n    ...module,\n    default: module.List,\n  }))\n);\n\nconst MovieDetais = () => {\n  const { movieId } = useParams();\n  const [moviedDetails, setMovieDetails] = useState('current');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    setStatus('pending');\n\n    getMovieDetails(movieId, abortController)\n      .then(responce => {\n        setMovieDetails(responce.data);\n        setStatus('resolved');\n      })\n      .catch(() => setStatus('rejected'));\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <div>\n      {status === 'pending' && <p>Loading...</p>}\n      {status === 'resolved' && (\n        <>\n          <Suspense fallback={<p>Loading FilmMainInfo and Links ... </p>}>\n            <FilmMainInfo moviedDetails={moviedDetails} />\n            <List>\n              <li>\n                <StyledLink to=\"cast\">Cast</StyledLink>\n              </li>\n              <li>\n                <StyledLink to=\"reviews\">Reviews</StyledLink>\n              </li>\n            </List>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n      {status === 'rejected' && <p>rejected</p>}\n    </div>\n  );\n};\n\nexport default MovieDetais;\n","import axios from 'axios';\nconst KEY = '63240915768e2fa639cf91287e69284e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst getTrends = abortController =>\n  axios.get(`${BASE_URL}trending/movie/week?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getMovieDetails = (movieId, abortController) =>\n  axios.get(`${BASE_URL}movie/${movieId}?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getGenres = async () => {\n  const responce = await axios.get(\n    `${BASE_URL}genre/movie/list?api_key=${KEY}`\n  );\n  localStorage.setItem('genres', JSON.stringify(responce.data.genres));\n  return responce.data.genres;\n};\n\nconst getCast = (id, abortController) =>\n  axios.get(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getReviews = (id, abortController) =>\n  axios.get(`${BASE_URL}movie/${id}/reviews?api_key=${KEY}`, {\n    signal: abortController.signal,\n  });\n\nconst getMovie = (searchName, abortController, updateAbortController) => {\n  if (abortController) {\n    abortController.abort();\n  }\n\n  const newAborController = new AbortController();\n  updateAbortController(newAborController);\n\n  return axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${searchName}&page=1&include_adult=false`,\n    {\n      signal: newAborController.signal,\n    }\n  );\n};\n\nexport { getTrends, getMovieDetails, getGenres, getCast, getReviews, getMovie };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["FilmMainInfo","lazy","StyledLink","then","module","default","List","movieId","useParams","useState","moviedDetails","setMovieDetails","status","setStatus","useEffect","abortController","AbortController","getMovieDetails","responce","data","catch","abort","Suspense","fallback","to","KEY","BASE_URL","getTrends","axios","signal","getGenres","localStorage","setItem","JSON","stringify","genres","getCast","id","getReviews","getMovie","searchName","updateAbortController","newAborController","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}