"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[415],{5415:function(n,e,t){t.r(e);var r=t(9439),c=t(2791),a=t(799),i=t(184),o=(0,c.lazy)((function(){return t.e(675).then(t.bind(t,4115))}));e.default=function(){var n=(0,c.useState)(),e=(0,r.Z)(n,2),t=e[0],u=e[1],s=(0,c.useState)("idle"),l=(0,r.Z)(s,2),f=l[0],g=l[1];return(0,c.useEffect)((function(){var n=new AbortController;return g("pending"),(0,a.Aj)(n).then((function(n){var e=n.data;u(e.results),g("resolved")})).catch((function(){return g("rejected")})),function(){n.abort()}}),[]),(0,i.jsxs)("main",{children:["pending"===f&&(0,i.jsx)("p",{children:"Loading..."}),"resolved"===f&&(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)("p",{children:"Loading FilmList..."}),children:(0,i.jsx)(o,{films:t})}),"rejected"===f&&(0,i.jsx)("p",{children:"Something went wrong"})]})}},799:function(n,e,t){t.d(e,{Aj:function(){return s},HI:function(){return p},IQ:function(){return g},JZ:function(){return f},Jh:function(){return d},TP:function(){return l}});var r=t(5861),c=t(7757),a=t.n(c),i=t(1243),o="63240915768e2fa639cf91287e69284e",u="https://api.themoviedb.org/3/",s=function(n){return i.Z.get("".concat(u,"trending/movie/week?api_key=").concat(o),{signal:n.signal})},l=function(n,e){return i.Z.get("".concat(u,"movie/").concat(n,"?api_key=").concat(o),{signal:e.signal})},f=function(){var n=(0,r.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(u,"genre/movie/list?api_key=").concat(o));case 2:return e=n.sent,localStorage.setItem("genres",JSON.stringify(e.data.genres)),n.abrupt("return",e.data.genres);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),g=function(n,e){return i.Z.get("".concat(u,"movie/").concat(n,"/credits?api_key=").concat(o),{signal:e.signal})},d=function(n,e){return i.Z.get("".concat(u,"movie/").concat(n,"/reviews?api_key=").concat(o),{signal:e.signal})},p=function(n,e,t){e&&e.abort();var r=new AbortController;return t(r),i.Z.get("".concat(u,"search/movie?api_key=").concat(o,"&query=").concat(n,"&page=1&include_adult=false"),{signal:r.signal})}}}]);
//# sourceMappingURL=415.f7af86f6.chunk.js.map