"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[247],{1247:function(t,e,n){n.r(e);var r=n(9439),c=n(8683),a=n(2791),i=n(7689),o=n(799),u=n(184),s=(0,a.lazy)((function(){return n.e(811).then(n.bind(n,5811)).then((function(t){return(0,c.Z)((0,c.Z)({},t),{},{default:t.List})}))})),f=(0,a.lazy)((function(){return n.e(811).then(n.bind(n,5811)).then((function(t){return(0,c.Z)((0,c.Z)({},t),{},{default:t.ListItem})}))}));e.default=function(){var t=(0,a.useState)(null),e=(0,r.Z)(t,2),n=e[0],c=e[1],l=(0,i.UO)().movieId;return(0,a.useEffect)((function(){var t=new AbortController;return(0,o.IQ)(l,t).then((function(t){var e=t.data.cast;c(e)})).catch(),function(){return t.abort()}}),[l]),(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)("p",{children:"YES! It's a new loading ..."}),children:(0,u.jsx)(s,{children:n&&n.map((function(t){var e=t.name,n=t.profile_path,r=t.character,c=t.id;return(0,u.jsxs)(f,{children:[(0,u.jsx)("h3",{children:e}),(0,u.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://media0.giphy.com/media/B7aksBgcJzFDO/giphy.gif?cid=ecf05e47j34sc1hadvhhjt44g57zxhzrh9qy0sii6gx1pkpa&rid=giphy.gif&ct=g",alt:"".concat(e," poster"),width:"100"}),(0,u.jsxs)("p",{children:["Character: ",r]})]},c)}))})})}},799:function(t,e,n){n.d(e,{Aj:function(){return s},HI:function(){return h},IQ:function(){return p},JZ:function(){return l},Jh:function(){return g},TP:function(){return f}});var r=n(5861),c=n(7757),a=n.n(c),i=n(1243),o="63240915768e2fa639cf91287e69284e",u="https://api.themoviedb.org/3/",s=function(t){return i.Z.get("".concat(u,"trending/movie/week?api_key=").concat(o),{signal:t.signal})},f=function(t,e){return i.Z.get("".concat(u,"movie/").concat(t,"?api_key=").concat(o),{signal:e.signal})},l=function(){var t=(0,r.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("".concat(u,"genre/movie/list?api_key=").concat(o));case 2:return e=t.sent,localStorage.setItem("genres",JSON.stringify(e.data.genres)),t.abrupt("return",e.data.genres);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(t,e){return i.Z.get("".concat(u,"movie/").concat(t,"/credits?api_key=").concat(o),{signal:e.signal})},g=function(t,e){return i.Z.get("".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(o),{signal:e.signal})},h=function(t,e,n){e&&e.abort();var r=new AbortController;return n(r),i.Z.get("".concat(u,"search/movie?api_key=").concat(o,"&query=").concat(t,"&page=1&include_adult=false"),{signal:r.signal})}},8683:function(t,e,n){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,{Z:function(){return a}})}}]);
//# sourceMappingURL=247.0cc5316c.chunk.js.map